extends ../../layout

append head
    link(rel='stylesheet', href='/assets/css/api.css')

block content
    h2.pageh1 API
    p
        |The #{site.name} API has three available endpoints. 
        |All of the API endpoints return JSON. 
        |We do not have any user authentication for the API, 
        |thus it's currently limited to read only using stink's following list.

    p.
        All of the API calls accept an optional #[em viewmode] variable in the URL.
        If #[em viewmode] is #[em "discover"] then the discover view mode is used.
        If any other value is used for #[em viewmode] then the following-only view mode is used.
        You can read more about how view mode works in the
        #[a(href="/docs/site#settings") settings section of the site documentation].

    p
        |Here is a description of each call:

    h3 GET /api/v1/post

    p.
        This returns all posts.
        The data is paginated at 20 records per page.
        You can use #[em p], #[em viewmode] and #[em sort] variables in the URL.
        #[em p] is for page and it starts at 1.
        #[em sort] can be either #[em newest], #[em oldest], #[em comments] or #[em last] -
        the default is #[em newest].
        There is more info about post sorting in the #[a(href="/docs/site#posts") posts section] of the manual.
        Examples of this endpoint:

    p
        a(href="/api/v1/post") /api/v1/post

    p
        a(href="/api/v1/post?p=2") /api/v1/post?p=2

    p
        a(href="/api/v1/post?viewmode=discover") /api/v1/post?viewmode=discover

    p
        a(href="/api/v1/post?viewmode=discover&p=2") /api/v1/post?viewmode=discover&p=2

    p
        a(href="/api/v1/post?sort=comments") /api/v1/post?sort=comments

    p
        a(href="/api/v1/post?sort=last&viewmode=discover&p=2") /api/v1/post?sort=last&viewmode=discover&p=2

    h3 GET /api/v1/post/:postId

    p.
        This call will return a single post and its comments.
        You can use #[em postid] and #[em viewmode] variables in the URL.
        #[em postid] is required.
        Examples of this endpoint:

    p
        a(href="/api/v1/post/f1ae7450-2f3f-4125-822b-293c5bcd96f8") /api/v1/post/f1ae7450-2f3f-4125-822b-293c5bcd96f8

    h3 GET /api/v1/comment

    p.
        This call will return a single comment and its child comments.
        You can use #[em commentid] and #[em viewmode] variables in the URL.
        #[em commentid] is required.
        Examples of this endpoint:

    p
        a(href="/api/v1/comment/99df5505-2fd8-49a1-a425-be86907253c8") /api/v1/comment/99df5505-2fd8-49a1-a425-be86907253c8
